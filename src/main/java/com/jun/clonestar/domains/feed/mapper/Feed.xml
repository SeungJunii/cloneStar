<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd">
<mapper namespace="Feed">

    <insert id="insert" parameterType="com.jun.clonestar.domains.feed.DTO.entity.FeedEntity" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO feed(
        account,
        realName,
        nickName,
        picture,
        caption,
        location,
        tag,
        likeNum,
        profileImgUrl,
        time
        ) VALUES(
        #{account},
        #{realName},
        #{nickName},
        #{picture},
        #{caption},
        #{location},
        #{tag},
        #{likeNum},
        #{profileImgUrl},
        now()
        )
    </insert>

    <select id="feedList" resultType="com.jun.clonestar.domains.feed.DTO.entity.FeedEntity">
        Select *
        FROM feed
        ORDER BY id DESC
    </select>

    <select id="getFeedByAccount"  parameterType ="String"  resultType="com.jun.clonestar.domains.feed.DTO.entity.FeedEntity">
        SELECT
            f.*
        FROM feed as f
        join user as u
        on f.account = u.userAccount
        WHERE  u.userAccount=#{userAccount}
        ORDER BY f.id DESC
    </select>
</mapper>